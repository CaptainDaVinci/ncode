<!DOCTYPE html>
<html lang="en-US">

<head>
<meta charset='utf-8'>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width,maximum-scale=2">
<link rel="stylesheet" type="text/css" media="screen" href="/assets/css/style.css?v=432ff66be5d4ee01f99bd68ee2e682ab72da397c">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<script type="text/x-mathjax-config">
	MathJax.Hub.Config({
	  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
	});
</script>
<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML">
</script>

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>November 2018 | UVCE NCODE</title>
<meta name="generator" content="Jekyll v3.7.4" />
<meta property="og:title" content="November 2018" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="A monthly programming contest conducted by IEEE UVCE Computer Society." />
<meta property="og:description" content="A monthly programming contest conducted by IEEE UVCE Computer Society." />
<link rel="canonical" href="http://localhost:4000/editorials/november-2018/Sokka-and-King-of-Omashu.html" />
<meta property="og:url" content="http://localhost:4000/editorials/november-2018/Sokka-and-King-of-Omashu.html" />
<meta property="og:site_name" content="UVCE NCODE" />
<script type="application/ld+json">
{"description":"A monthly programming contest conducted by IEEE UVCE Computer Society.","@type":"WebPage","url":"http://localhost:4000/editorials/november-2018/Sokka-and-King-of-Omashu.html","headline":"November 2018","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <h1 id="project_title">November 2018</h1>
          <h2 id="project_tagline">
              <a style="color: white; text-decoration: underline; font-weight: bold;" 
                  href=https://www.hackerrank.com/contests/uvce-ncode-november-2018/challenges/sokka-and-king-of-omashu>Sokka and King of Omashu
              </a>
          </h2>

        </header>
    </div>


    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h2 id="solution">Solution</h2>

<p>Either $x$ coordinate or $y$ coordinate of initial and final position are same, 
therefore it shares a column or a row (lies in a straight line). 
As direction doesn’t matter, we assume they lie in same column, let us say initial and final positions are $(x, y_s)$ and $(x, y_d)$ 
respectively with $y_d \ge y_s$. Any such query can be done in constant time owing to a pattern.</p>

<p>Pattern: $0, 3, 2, 3, 2, 3, 4, 5, 4, 5, 6, 7, 6, 7…$</p>

<p>here, $Pattern[i] \implies$ minimum number of steps required to reach a cell if $y_d - y_s = i$.</p>

<p>Creating this pattern.</p>

<p>This pattern can be obtained using $3$ columns with $x$ coordinates, $x - 1, x, x + 1$.</p>

<p><strong>Note</strong>: column $x - 1$ and $x + 1$ will be same as both are same to knight.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>x - 1 -&gt;    3 2 1
x     -&gt;    0 3 2
x + 1 -&gt;    3 2 1
</code></pre></div></div>

<p>These staring $9$ cells can easily be confirmed to be minimum number of steps to reach from $(x, y_s)$ (till now pattern is done till 0, 3, 2).
$(x + 1, y_s + 3)$ can be reached from $(x - 1, y_s + 2)$ and $(x, y_s + 3)$ can be reached from $(x + 1, y_s + 1)$ in $1$ step. So now,</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>x - 1 -&gt;    3 2 1 2
x     -&gt;    0 3 2 3
x + 1 -&gt;    3 2 1 2
</code></pre></div></div>

<p>again, 
<script type="math/tex">(x + 1, y_s + 4) = (x - 1, y_s + 3) + 1, \\ 
(x, y_s + 4) = (x + 1, y_s + 2) + 1</script></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>x - 1 -&gt;    3 2 1 2 3
x     -&gt;    0 3 2 3 2
x + 1 -&gt;    3 2 1 2 3
</code></pre></div></div>

<p>by repetedly doing it we can get the pattern in $x$ (column).</p>

<h4 id="proof">Proof:</h4>
<p>We can create the pattern, now we prove that it is the minimum possible.</p>

<p><strong>Note</strong>: Odd number of moves required to traverse to cell with different color and even number of moves required for traversing in same colour cells.
Max $(y_2 - y_1)$ which can be achieved in $n$ steps is $2 * n$, as $+2$ is max change in one direction for knights move. So we define $limit (n) = 2 * n$.</p>

<p>Let $ans(n)$ be the function which gives minimum steps to reach from $(x, y_s)$ to $(x, y_s + n)$.</p>

<p>To prove $Pattern[n] = ans (n)$, it is sufficient to show that limit $(Pattern[n] -2) &lt; n \le limit (Pattern[n])$</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>When n is even

ans(n) will also be even (owing to NOTE(1)).
    n &lt;= limit( ans (n)), when n = limit (Pattern[n]) then Pattern[n] == ans (n).
    Pattern for even indices is 2, 2, 4, 4, 6, 6, 8, 8, 10, 10... 
    more formally Pattern[n] = ceil(n / 4) * 2
    n = k * 4 + r, where r can be 0, 2

when r = 0,
    n = k * 4
    ceil(n / 4) * 2 = k * 2, therefore, 
    limit (Pattern[n]) = k * 4 = n, ans (n) == Pattern[n].
    
when r = 2,
    n = k * 4 + 2
    ceil(n / 4) * 2 = (k + 1) * 2 = k * 2 + 2 therefore, 
    limit (Pattern[n]) = k * 4 + 4 ≥ n
    limit (Pattern[n] - 1) = k * 4 + 2 = n
    as limit (x - 1) &lt; limit (x),  limit (Pattern[n] - 2)  &lt; n  &lt;= limit (Pattern[n])
    
Hence we have proved that Pattern[n] has to be the answer for even n.
        
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    When n is odd

    Pattern for odd indices is defined as Pattern[n] = ceil ((n -1) /4) * 2 + 1, for n = 3, 5, 7, 9...
        when n = 4 * k + 1
            
            Pattern[n] = k * 2 + 1
            limit (Pattern[n]) = k * 4 + 2 &gt; n
            limit (pattern[n] - 1) = k * 4  &lt; n
            therefore limit (Pattern[n] - 2) &lt; n ≤ limit (Pattern[n])
            
        when n = 4 * k + 3
            
            Pattern[n] = k * 2 + 3
            limit (Pattern[n]) = k * 4 + 6 &gt; n
            limit (Pattern[n] - 2) = k * 4 + 2 &lt; n
            
        therefore for odd number also Pattern[n] = ans (n)
</code></pre></div></div>

<p>Hence proved for $n &gt; 1$ that $Pattern[n] = ans (n)$</p>

<h2 id="implementation">Implementation</h2>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;bits/stdc++.h&gt;
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">using</span> <span class="n">ll</span> <span class="o">=</span> <span class="kt">long</span> <span class="kt">long</span> <span class="kt">int</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">t</span><span class="p">;</span>
    <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">t</span><span class="p">;</span>

    <span class="k">while</span> <span class="p">(</span><span class="n">t</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">ll</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">;</span>
        <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">x1</span> <span class="o">&gt;&gt;</span> <span class="n">y1</span> <span class="o">&gt;&gt;</span> <span class="n">x2</span> <span class="o">&gt;&gt;</span> <span class="n">y2</span><span class="p">;</span>

        <span class="n">ll</span> <span class="n">d</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">abs</span><span class="p">(</span><span class="n">x1</span> <span class="o">-</span> <span class="n">x2</span><span class="p">),</span> <span class="n">abs</span><span class="p">(</span><span class="n">y1</span> <span class="o">-</span> <span class="n">y2</span><span class="p">));</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">d</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
            <span class="k">continue</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">d</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="mi">3</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
            <span class="k">continue</span><span class="p">;</span>
        <span class="p">}</span>
        
        <span class="n">ll</span> <span class="n">res</span> <span class="o">=</span> <span class="p">((</span><span class="n">d</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="mi">4</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">d</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="o">++</span><span class="n">res</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">res</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li><em>Time complexity</em>: $\mathcal{O}(T)$</li>
  <li><em>Space complexity</em>: $\mathcal{O}(1)$</li>
</ul>

<p><a href="./index.html">back</a></p>


      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p>Follow <strong>IEEE UVCE Computer Society</strong> on:
          &nbsp; 
          <a href="https://www.facebook.com/IEEE-UVCE-Computer-Society-894860704034107/" class="fa fa-facebook"> </a>
          &nbsp; 
          <a href="https://www.instagram.com/ieee.uvce.cs/" class="fa fa-instagram"></a>
        </p>
      </footer>
    </div>
  </body>
</html>
