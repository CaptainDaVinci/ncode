<!DOCTYPE html>
<html lang="en-US">

<head>
<meta charset='utf-8'>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width,maximum-scale=2">
<link rel="stylesheet" type="text/css" media="screen" href="/assets/css/style.css?v=d704d32687f10adbaacb53ec405ab76d40b7d8d4">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<script type="text/x-mathjax-config">
	MathJax.Hub.Config({
	  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
	});
</script>
<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML">
</script>

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>November 2018 | UVCE NCODE</title>
<meta name="generator" content="Jekyll v3.7.4" />
<meta property="og:title" content="November 2018" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="A monthly programming contest conducted by IEEE UVCE Computer Society." />
<meta property="og:description" content="A monthly programming contest conducted by IEEE UVCE Computer Society." />
<link rel="canonical" href="http://localhost:4000/editorials/november-2018/Aangs-Attack.html" />
<meta property="og:url" content="http://localhost:4000/editorials/november-2018/Aangs-Attack.html" />
<meta property="og:site_name" content="UVCE NCODE" />
<script type="application/ld+json">
{"description":"A monthly programming contest conducted by IEEE UVCE Computer Society.","@type":"WebPage","url":"http://localhost:4000/editorials/november-2018/Aangs-Attack.html","headline":"November 2018","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <h1 id="project_title">November 2018</h1>
          <h2 id="project_tagline">
              <a style="color: white; text-decoration: underline; font-weight: bold;" 
                  href=https://www.hackerrank.com/contests/uvce-ncode-november-2018/challenges/aangs-attack>Aang's Attack
              </a>
          </h2>

        </header>
    </div>


    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h2 id="solution">Solution</h2>

<p>Number of people of island $i$ is $f(i)$, given $f(i) = f(i - 1) + f(i - 2)$, which is the fibonacci function.<br />
Given an island number $x$ problem is to find number of island $y$ such that $fib (y) \mid fib (x)$, where $y &lt; x$.<br />
Key is to note that $fib (a) \mid fib (b) \leftrightarrow a \mid b$, therefore problem breaks down to finding number of divisors $x$ (excluding itself).</p>

<p><strong>Brute force way of counting number of divisors</strong><br />
Iterate from $[1, x)$, then check if it divides $x$. This is done $\mathcal{O}(x)$.<br />
So we can answer each query in $\mathcal{O}(t * x)$, which will time out.</p>

<p><strong>Pre calcultion</strong><br />
Idea is to calculate and store number of divisors of every $x &lt; 10^5$, and then answering any query would be instant.
We can do precomputation as shown:</p>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">x</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>             
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">x</span><span class="p">;</span> <span class="n">j</span> <span class="o">+=</span> <span class="n">i</span><span class="p">)</span> <span class="p">{</span>  
        <span class="n">div</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">++</span><span class="p">;</span>     <span class="c1">// An array which stores then number of divisors
</span>    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
<p>The complexity of the above code is determined by number of times <em>div[j]</em> is updated:<br />
<script type="math/tex">T(x) = x + \frac{x}{2} + \frac{x}{3} + \frac{x}{4} + ... + 1 \\  
T(x) = x * (1 + \frac{1}{2} + \frac{1}{3} + \frac{1}{4} + ... + \frac{1}{x}) \\ 
T(x) = x * log(x)</script></p>

<p><strong>Proof</strong><br />
$fib(a) \mid fib(b) \leftrightarrow a \mid b$, can be proved using property of fibonacci</p>

<p>\begin{equation}\label{fibeqn}
fib(x) * fib(y - 1) + fib(x + 1) * fib(y) = fib(x + y) \quad (1)
\end{equation}</p>

<p>if we put $y = x$, we get,</p>

<p>\begin{equation}\label{fibeqn2}
fib (x) * (fib (y - 1) + fib (x + 1)) = fib (2x), 
\end{equation}</p>

<p>therefore $fib(x) \mid fib(2x)$, similarly, $fib (2x) \mid fib (3x)$ and rest is mathematical induction.
We know that if $a \mid b$ then $fib(a)$ divides $fib(b)$, $gcd(fib (a), fib (a + 1)) = 1$,</p>

<p>In eqn(1),<br />
$gcd (fib (x), fib(x + 1)) = 1$<br />
$gcd (fib (y - 1) , fib (y)) = 1$</p>

<p>Let us assume there is a $k$ such that $fib (k) \mid fib (k * q + r)$, where $r\  \epsilon\  [1, k - 1]$</p>

<p>\begin{equation}
fib (k * q) * fib (r -1) + fib (r) * fib(k * q + 1) = fib (k * q + r) 
\end{equation}</p>

<p>As, <br />
$fib (k) \mid fib (k * q)$, for<br />
$fib(k)$ to divide $fib(k * q + r)$ it must divide $fib(r) * fib (k * q + 1)$
but $gcd (fib (k * q + 1), fib (k)) = 1$.<br />
we have $fib (k)$ must divide $fib (r)$ which is not possible as $r &lt; k$.<br />
Therefore by contradiction we now we know it is not possible and $r$ must be equal to $0$.</p>

<h2 id="implementation">Implementation</h2>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;bits/stdc++.h&gt;
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">using</span> <span class="n">ll</span> <span class="o">=</span> <span class="kt">long</span> <span class="kt">long</span> <span class="kt">int</span><span class="p">;</span>
<span class="k">constexpr</span> <span class="kt">int</span> <span class="n">N</span> <span class="o">=</span> <span class="mf">1e5</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>

<span class="kt">int</span> <span class="n">res</span><span class="p">[</span><span class="n">N</span><span class="p">];</span>

<span class="kt">void</span> <span class="nf">precal</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// fill res with 2, as f(1) and f(2) will divide every number.
</span>    <span class="n">fill</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">res</span> <span class="o">+</span> <span class="n">N</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>

    <span class="c1">// exceptions.
</span>    <span class="n">res</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="n">res</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> 

    <span class="c1">// sieve.
</span>    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">N</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">i</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">N</span><span class="p">;</span> <span class="n">j</span> <span class="o">+=</span> <span class="n">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="o">++</span><span class="n">res</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">q</span><span class="p">;</span>
    <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">q</span><span class="p">;</span>

    <span class="n">precal</span><span class="p">();</span>

    <span class="k">while</span> <span class="p">(</span><span class="n">q</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">x</span><span class="p">;</span>
        <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">x</span><span class="p">;</span>

        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">res</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li><em>Time complexity</em>: $\mathcal{O}(t + N * log(N))$</li>
  <li><em>Space complexity</em>: $\mathcal{O}(N)$</li>
</ul>

<p><a href="./index.html">back</a></p>


      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p>Follow <strong>IEEE UVCE Computer Society</strong> on:
          &nbsp; 
          <a href="https://www.facebook.com/IEEE-UVCE-Computer-Society-894860704034107/" class="fa fa-facebook"> </a>
          &nbsp; 
          <a href="https://www.instagram.com/ieee.uvce.cs/" class="fa fa-instagram"></a>
        </p>
      </footer>
    </div>
  </body>
</html>
